<html>
<canvas id="gameCanvas" width="800" height="600"></canvas>
<script>var canvas;var canvasContext;var ballX=50;var ballY=50;var ballSpeedX=10;var ballSpeedY=2;var paddle1Y=250;const PADDLE_HEIGHT=100;var paddle2Y=250;const PADDLE_THICKNESS=10;var player1Score=0;var player2Score=0;const WINNING_SCORE=3;var showingWinScreen=false;function calculateMousePos(b){var e=canvas.getBoundingClientRect();var a=document.documentElement;var d=b.clientX-e.left-a.scrollLeft;var c=b.clientY-e.top-a.scrollTop;return{x:d,y:c}}function handleMouseClick(a){if(showingWinScreen){player1Score=0;player2Score=0;showingWinScreen=false}}window.onload=function(){console.log("Hello world!");canvas=document.getElementById("gameCanvas");canvasContext=canvas.getContext("2d");var a=30;setInterval(function(){moveEverything();drawEverything()},1000/a);canvas.addEventListener("mousedown",handleMouseClick);canvas.addEventListener("mousemove",function(c){var b=calculateMousePos(c);paddle1Y=b.y-(PADDLE_HEIGHT/2)})};function ballReset(){if(player1Score>=WINNING_SCORE||player2Score>=WINNING_SCORE){showingWinScreen=true}ballX=canvas.width/2;ballY=canvas.height/2;ballSpeedX=-ballSpeedX;ballSpeedX=10;ballSpeedY=2}function computerMovement(){var a=paddle2Y+(PADDLE_HEIGHT/2);if(a<ballY-35){paddle2Y+=6}else{if(a>ballY+35){paddle2Y-=6}}}function moveEverything(){if(showingWinScreen){return}computerMovement();ballX+=ballSpeedX;ballY+=ballSpeedY;if(ballX>canvas.width){if(ballY>paddle2Y&&ballY<paddle2Y+PADDLE_HEIGHT){ballSpeedX=-ballSpeedX;var a=ballY-(paddle1Y+PADDLE_HEIGHT/2);ballSpeedY=a*0.1}else{player1Score++;ballReset()}}if(ballX<0){if(ballY>paddle1Y&&ballY<paddle1Y+PADDLE_HEIGHT){ballSpeedX=-ballSpeedX;var a=ballY-(paddle2Y+PADDLE_HEIGHT/2);ballSpeedY=a*0.1}else{player2Score++;ballReset()}}if(ballY>canvas.height){ballSpeedY=-ballSpeedY}if(ballY<0){ballSpeedY=-ballSpeedY}}function drawNet(){for(var a=0;a<canvas.height;a+=40){colorRect(canvas.width/2-1,a,2,20,"white")}}function drawEverything(){colorRect(0,0,canvas.width,canvas.height,"black");if(showingWinScreen){canvasContext.fillStyle="white";if(player1Score>=WINNING_SCORE){canvasContext.fillText("Man Over Game!",250,200)}else{if(player2Score>=WINNING_SCORE){canvasContext.fillText("Game Over Man!",450,200)}}canvasContext.fillText("Click to Continue",350,512)}drawNet();colorRect(0,paddle1Y,PADDLE_THICKNESS,100,"white");colorRect(canvas.width-PADDLE_THICKNESS,paddle2Y,PADDLE_THICKNESS,PADDLE_HEIGHT,"white");colorCircle(ballX,ballY,10,"white");canvasContext.fillText(player1Score,100,100);canvasContext.fillText(player2Score,canvas.width-100,100)}function colorCircle(d,c,b,a){canvasContext.fillStyle="drawColor";canvasContext.beginPath();canvasContext.arc(d,c,b,0,Math.PI*2,true);canvasContext.fill()}function colorRect(c,b,e,a,d){canvasContext.fillStyle=d;canvasContext.fillRect(c,b,e,a)};</script>
</html>